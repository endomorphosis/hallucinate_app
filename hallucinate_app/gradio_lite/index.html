<html>
	<head>
		<script type="module" crossorigin src="https://cdn.jsdelivr.net/npm/@gradio/lite/dist/lite.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@gradio/lite/dist/lite.css" />
	</head>
	<body>
        <gradio-lite playground layout="vertical" theme="dark">
            import gradio as gr  
            from transformers_js_py import pipeline

            pipe = await pipeline('sentiment-analysis')

            def count(word, list_of_words):
                return list_of_words.count(word), list_of_words + [word]
        
            async def fn(text):
                result = await pipe(text)
                return result

            with gr.Blocks() as demo:
                words = gr.State([])
                textbox = gr.Textbox(lines=5, label="History", placeholder="You: ", default="You: ")
                chat =  gr.Textbox(lines=1, label="chat")
                console = gr.Textbox(lines=5,label="console", placeholder=">>>")
                button = gr.Button(textbox.submit(count, inputs=[textbox, words], outputs=[console, words]))                
                textbox.submit(count, inputs=[textbox, words], outputs=[console, words])
            
            gr.Interface.from_pipeline(pipe).
            demo.launch()
        
            


			<gradio-requirements>
                transformers-js-py
			</gradio-requirements>
		</gradio-lite>
        <div id="root" style="padding-left: 10px; padding-top: 10px; height: 100%; background-color: black; color: white;">   
            <span id="console" style="border-bottom: solid #333 2px; min-height: fit-content; min-width: fit-content">Console:</span>
            <span style="border-top: solid #333 3px ; margin-left: 10px; margin-top: 10px; " class="warnings">     
                <p>IPFS Huggingface is a project that aims to provide a decentralized way to access Huggingface models.</p>
                <p>It uses IPFS to store the models and a simple web interface to access them.</p>
                <p>Check out the <a href="https://github.com/endomorphosis/hallucinate_app">GitHub repository</a> for more information.</p>
                <p>Please Wait While Gradio Loads ...</p>
            </span>
        </div>
        <script src="./cjs/index.js"></script>
	</body>
</html>
